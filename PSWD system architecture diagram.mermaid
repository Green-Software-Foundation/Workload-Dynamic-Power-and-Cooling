```mermaid
flowchart TD
    %% Start
    START([🚀 Start PSWD])
    
    %% Authentication
    AUTH[🔐 Authenticate<br/>JWT + Role Assignment]
    
    %% Workload Management
    ANNOUNCE[📢 Workload Announcement<br/>Power Profile + Requirements]
    CHECK[🔍 Infrastructure Check<br/>Capacity + Grid Status]
    APPROVE{Approve<br/>Workload?}
    
    %% Execution Phase
    EXECUTE[⚡ Execute Workload<br/>Real-time Monitoring]
    
    %% Parallel Real-time Operations
    subgraph REALTIME[" Real-time Operations "]
        POWER[⚡ Power Monitoring<br/>100ms Resolution]
        BATTERY[🔋 Battery Smoothing<br/>250ms Response]
        THERMAL[🌡️ Thermal Control<br/>1s Response]
        GRID[🌐 Grid Coordination<br/>5s Response]
    end
    
    %% External Integration
    subgraph EXTERNAL[" External Systems "]
        DEMAND[📡 Demand Response<br/>Grid Operator]
        MUNICIPAL[🏘️ Municipal Heat<br/>Waste Recovery]
        CARBON[🌱 Carbon Optimization<br/>Renewable Energy]
    end
    
    %% Completion
    COMPLETE[🏆 Workload Complete]
    REPORT[📊 Performance Report<br/>Energy + Carbon Metrics]
    END([✅ End])
    
    %% Flow Connections
    START --> AUTH
    AUTH --> ANNOUNCE
    ANNOUNCE --> CHECK
    CHECK --> APPROVE
    
    APPROVE -->|Yes| EXECUTE
    APPROVE -->|No| ANNOUNCE
    
    EXECUTE --> REALTIME
    
    %% Real-time Operations Flow
    POWER --> BATTERY
    BATTERY --> THERMAL
    THERMAL --> GRID
    
    %% External System Integration
    GRID --> DEMAND
    THERMAL --> MUNICIPAL
    GRID --> CARBON
    
    %% Completion Flow
    REALTIME --> COMPLETE
    EXTERNAL --> COMPLETE
    COMPLETE --> REPORT
    REPORT --> END
    
    %% Continuous Loops
    POWER -.->|Continuous| POWER
    DEMAND -.->|Grid Events| BATTERY
    CARBON -.->|Optimization| EXECUTE
    
    %% Performance Annotations
    ANNOUNCE -.->|"<500ms"| APPROVE
    POWER -.->|"100ms"| BATTERY
    BATTERY -.->|"<250ms"| THERMAL
    THERMAL -.->|"<1s"| GRID
    GRID -.->|"<5s"| DEMAND
    
    %% Styling
    style START fill:#90EE90,stroke:#006400,stroke-width:3px
    style END fill:#90EE90,stroke:#006400,stroke-width:3px
    
    style AUTH fill:#FFE4B5,stroke:#FF8C00,stroke-width:2px
    style ANNOUNCE fill:#E6F3FF,stroke:#0066CC,stroke-width:2px
    style CHECK fill:#E6F3FF,stroke:#0066CC,stroke-width:2px
    
    style POWER fill:#FFEB9C,stroke:#B8860B,stroke-width:2px
    style BATTERY fill:#FFEB9C,stroke:#B8860B,stroke-width:2px
    style THERMAL fill:#FFEB9C,stroke:#B8860B,stroke-width:2px
    style GRID fill:#FFEB9C,stroke:#B8860B,stroke-width:2px
    
    style DEMAND fill:#E0E0FF,stroke:#4169E1,stroke-width:2px
    style MUNICIPAL fill:#E0E0FF,stroke:#4169E1,stroke-width:2px
    style CARBON fill:#E0E0FF,stroke:#4169E1,stroke-width:2px
    
    style COMPLETE fill:#98FB98,stroke:#32CD32,stroke-width:2px
    style REPORT fill:#98FB98,stroke:#32CD32,stroke-width:2px
```
